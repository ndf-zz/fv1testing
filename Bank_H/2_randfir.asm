; FV-1 Testing
;
; Program: Rand FIR G=1.13
;
; POT0: Feedback
;
; Test random FIR filtering
;

	ldax	ADCL		; load input from ADCL
	wrax	DACR,1.0	; save a copy to DACR

; FIR : 100 random taps
	rda	5787,0.216955		; G=0.216955
	rda	31048,-0.203752		; G=0.013204
	rda	9140,0.216397		; G=0.229601
	rda	18975,-0.191953		; G=0.037648
	rda	7887,0.214059		; G=0.251706
	rda	31054,-0.188947		; G=0.062760
	rda	23405,0.213543		; G=0.276302
	rda	24684,-0.158057		; G=0.118246
	rda	21476,0.202141		; G=0.320387
	rda	9241,-0.156230		; G=0.164157
	rda	32379,0.182749		; G=0.346907
	rda	26264,-0.152516		; G=0.194390
	rda	16583,0.177420		; G=0.371811
	rda	29315,-0.148638		; G=0.223173
	rda	25040,0.176300		; G=0.399473
	rda	20003,-0.148552		; G=0.250921
	rda	15637,0.174881		; G=0.425801
	rda	22755,-0.148395		; G=0.277406
	rda	23511,0.165186		; G=0.442593
	rda	27290,-0.144521		; G=0.298072
	rda	9302,0.162039		; G=0.460110
	rda	23784,-0.128347		; G=0.331764
	rda	26534,0.151314		; G=0.483078
	rda	32165,-0.120325		; G=0.362754
	rda	7203,0.133185		; G=0.495938
	rda	22851,-0.112086		; G=0.383852
	rda	31174,0.128688		; G=0.512540
	rda	7110,-0.106600		; G=0.405940
	rda	5836,0.120123		; G=0.526063
	rda	32698,-0.104220		; G=0.421844
	rda	16830,0.119026		; G=0.540869
	rda	22782,-0.100784		; G=0.440085
	rda	24132,0.118218		; G=0.558303
	rda	20406,-0.099514		; G=0.458789
	rda	4222,0.118116		; G=0.576905
	rda	21738,-0.094000		; G=0.482905
	rda	30068,0.115639		; G=0.598543
	rda	13092,-0.090146		; G=0.508397
	rda	1062,0.113720		; G=0.622117
	rda	15325,-0.088418		; G=0.533699
	rda	32420,0.112045		; G=0.645745
	rda	25497,-0.078304		; G=0.567440
	rda	4184,0.107191		; G=0.674632
	rda	6372,-0.072891		; G=0.601741
	rda	24186,0.103666		; G=0.705407
	rda	10790,-0.072551		; G=0.632856
	rda	5079,0.103496		; G=0.736352
	rda	2359,-0.070875		; G=0.665478
	rda	24398,0.101160		; G=0.766637
	rda	7623,-0.069347		; G=0.697290
	rda	18907,0.097082		; G=0.794371
	rda	8717,-0.066506		; G=0.727865
	rda	40,0.094520		; G=0.822386
	rda	11909,-0.065269		; G=0.757117
	rda	9288,0.089839		; G=0.846956
	rda	12378,-0.061087		; G=0.785869
	rda	13825,0.088159		; G=0.874028
	rda	4046,-0.059730		; G=0.814298
	rda	32375,0.087092		; G=0.901390
	rda	17329,-0.057969		; G=0.843421
	rda	20830,0.084610		; G=0.928032
	rda	8460,-0.056956		; G=0.871075
	rda	21660,0.068573		; G=0.939648
	rda	16926,-0.054292		; G=0.885357
	rda	32212,0.063643		; G=0.948999
	rda	30534,-0.052322		; G=0.896677
	rda	21197,0.063310		; G=0.959987
	rda	14175,-0.051445		; G=0.908542
	rda	15258,0.063199		; G=0.971741
	rda	13812,-0.045815		; G=0.925926
	rda	20438,0.055949		; G=0.981875
	rda	23943,-0.038949		; G=0.942927
	rda	28024,0.055770		; G=0.998696
	rda	21480,-0.037413		; G=0.961283
	rda	26609,0.046941		; G=1.008224
	rda	10525,-0.035644		; G=0.972580
	rda	2468,0.041053		; G=1.013633
	rda	25148,-0.031688		; G=0.981945
	rda	28708,0.040592		; G=1.022537
	rda	25782,-0.025704		; G=0.996833
	rda	2012,0.036022		; G=1.032855
	rda	23097,-0.025152		; G=1.007703
	rda	6584,0.034640		; G=1.042342
	rda	28388,-0.024036		; G=1.018306
	rda	11868,0.034361		; G=1.052667
	rda	999,-0.023574		; G=1.029093
	rda	25871,0.031279		; G=1.060372
	rda	15540,-0.018915		; G=1.041457
	rda	2765,0.027228		; G=1.068685
	rda	1669,-0.008488		; G=1.060196
	rda	27660,0.019797		; G=1.079993
	rda	29099,-0.008109		; G=1.071884
	rda	9490,0.017782		; G=1.089667
	rda	18795,-0.005650		; G=1.084017
	rda	27613,0.015227		; G=1.099244
	rda	6371,0.013683		; G=1.112927
	rda	2266,0.009138		; G=1.122065
	rda	15796,0.006620		; G=1.128685
	rda	18313,0.005170		; G=1.133855
	rda	12829,0.004935		; G=1.138790

	wrax	DACL,1.0	; save to output
	mulx	POT0		; scale by feedback control
	rdax	ADCL,1.0	; add input to feedback
	wra	0,0.0		; save to delay line input

